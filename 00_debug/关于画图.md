画不出图：
%matplotlib inline

import plotly.io as pio
pio.renderers.default = 'notebook'

import plotly.io as pio
pio.renderers.default = 'notebook_connected'


# KDE替代1
import pandas as pd
import plotly.figure_factory as ff

fig = ff.create_distplot([df['Residuals'].values], ['Residuals'], bin_size=0.2)
fig.show()


# KDE替代2
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import gaussian_kde

--------Generate 1000 random data points for 'Residuals'
np.random.seed(42)  # For reproducibility
data = {'Residuals': np.random.normal(loc=0, scale=1, size=1000)}
df = pd.DataFrame(data)

---------Calculate the KDE
residuals = df['Residuals'].values
kde = gaussian_kde(residuals)
x = np.linspace(min(residuals), max(residuals), 100)
kde_values = kde(x)

----------Plot the KDE
plt.plot(x, kde_values)
plt.xlabel('Residuals')
plt.ylabel('Density')
plt.title('KDE Plot of Residuals')
plt.show()










