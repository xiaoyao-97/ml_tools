更新：流程

1. 很好的EDA
2. 线性回归
   1. 添加更多的变量来处理非线性
   2. 用rolling window
   3. 【注意】所有的模型，用多少的数据去预测都需要调参
3. lgbm, xgb, catb


——————————————————————————
方法：
1. 首先prophet, automl
2. sarimax, prophet
3. 然后xgboost,lgbm
4. deep learning

automl: 

对单独时间序列的一个pipeline:
1. 找出非规律的值
2. 将不规律的值填充
3. 找出最小的规律单元并算出函数
4. 除以（减去）这个函数以达到平滑化
5. 找出整体趋势
6. 

————————————————————————————

好的模型展示函数，画图、Loss
多个模型的ensemble和评估
[done] ridge和lasso的熟练使用
trend(rolling window)+lr

[done] prophet
[done] 最基本的季节分析，手动的
[done] trend

htsprophet https://github.com/CollinRooney12/htsprophet

tft 或者 transfomer


lstm
一个基本的lstm的函数

lightautoml

find leaked data

————————————有哪些不同的情境？——————————————————

1. 单个时间序列的预测（只有时间和数值两列）
   1. 包括很多时间序列，但是要预测比较长的时间
2. 很多时间序列的截面预测（就是只预测下一个时间点）
3. 有其他参数的预测

——————————如何evaluate时间序列模型？——————————
如果预测的时间很长，比如说用2年的数据去预测1年的数据，那么就没有validation set了
如果有5年的数据，那么可以把最后一年留作validation set
如果有超过5年的数据，那么可以使用time series cv


[n years] [test = 1 year] min training set for cv is m
loss = N(1/sqrt(m)*mu, 1/sqrt(n-m)*sigma)
bias-variance trade-off: traditional cv的目的就是减小variance吗？
cv增加bias的地方：
1. 子集不是训练集，oof也不是test
2. cv可能会选择复杂度低的模型，从而增加bias

——————————————————————————————

一些可能会很有趣的方法：

现在预测最要有两种模型，一个是非时序模型，比如lgbm和xgb；一种是时间序列模型，比如prophet

方法1：每个时间序列单独预测，然后把预测的结果当做是feature，训练整体的模型

方法2：把非时间序列的训练结果当做feature，训练每个单独的时间序列模型

点子：lgbm对时间加权，越进的时间权重越大


prophet可以产生很多的features


我需要哪些功能？

————————————————————————————————
遇到的问题（2024-05-13）
1. 数据有一些混乱，不要把log_y和y同时保留
2. 模型如何ensemble？validation系统还是有点问题
（2024-05-16）聊一聊ts取回归模型的validation。
首先你要判断所有可以调的参数。从可以控制的入手。

——————————————————————————————

时间序列数据如何清理？
（2024-05-16）如果是用回归模型的话就用一样的方式清理。
至于automl，需要尝试看看删掉或者标记的效果怎么样。
